{% extends "base.html" %}

{% block title %}Book Appointment - {{ session.clinic_name }}{% endblock %}

{% block content %}
<div class="card">
    <h2>ðŸ“… Book New Appointment</h2>
    
    <form method="POST">
        <div class="form-group">
            <label for="patient_id">Select Patient *</label>
            <select id="patient_id" name="patient_id" required>
                <option value="">Select a patient...</option>
                {% for patient in patients %}
                    <option value="{{ patient.id }}">{{ patient.name }} ({{ patient.patient_id }}) - {{ patient.phone }}</option>
                {% endfor %}
            </select>
            <p style="font-size: 12px; color: #666; margin-top: 5px;">
                Don't see the patient? <a href="{{ url_for('add_patient') }}">Register new patient</a>
            </p>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="appointment_date">Date *</label>
                <input type="date" id="appointment_date" name="appointment_date" 
                       value="{{ today }}" min="{{ today }}" required>
            </div>
            
            <div class="form-group">
                <label for="appointment_time">Time *</label>
                <input type="time" id="appointment_time" name="appointment_time" required>
            </div>
        </div>
        
        <div class="form-group">
            <label for="reason">Reason for Visit</label>
            <textarea id="reason" name="reason" placeholder="E.g., Fever, Check-up, Follow-up, etc."></textarea>
        </div>
        
        <div style="margin-top: 30px;">
            <button type="submit" class="btn">Book Appointment</button>
            <a href="{{ url_for('appointments') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}


